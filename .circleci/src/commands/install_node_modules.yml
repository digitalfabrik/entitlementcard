description: Restores and saves the node_modules directories of the npm workspaces.
steps:
  - restore_cache:
      keys:
      - v1-node-modules-{{ checksum "~/project/package-lock.json" }}
      - v1-node-modules
  - run:
      name: Install node dependencies for npm workspaces
      command: npm ci
  - save_cache:
      key: v1-node-modules-{{ checksum "~/project/package-lock.json" }}
      paths:
        - ~/project/node_modules
        - ~/project/administration/node_modules
        - ~/project/frontend/build-configs/node_modules
